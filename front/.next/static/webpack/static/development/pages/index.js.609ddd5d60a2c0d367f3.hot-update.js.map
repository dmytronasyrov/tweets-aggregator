{"version":3,"file":"static/webpack/static/development/pages/index.js.609ddd5d60a2c0d367f3.hot-update.js","sources":["webpack:///./components/Tweets.js"],"sourcesContent":["import EventBus from 'vertx3-eventbus-client'\n\nclass Tweets extends React.Component {\n\n  // Variables\n\n  state = {\n    data: {\n      tweets: []\n    }\n  }\n\n  eventBus = null\n  isMounted = false;\n\n  // Lifecycle\n\n  componentDidMount() {\n    this.isMounted = true\n\n    const eb = new EventBus('http://localhost:8080/eventbus')\n\n    eb.onopen = () => {\n      eb.registerHandler('api.tweets', this.tweetsHandler)\n    }\n  }\n\n  componentWillUnmount() {\n    this.isMounted = false;\n  }\n\n  // Private\n\n  tweetsHandler = (err, msg) => {\n    if (!this.isMounted) return\n    if (err) {\n      console.log(\"ERR\", err);\n      \n      return\n    }\n\n    const tweets = msg.body\n    this.setState({\n      data: { tweets }\n    })\n  }\n\n  // Render\n\n  render() {\n    return (\n      <ul>\n        {this.state.data.tweets.map(tweet => {\n          return (\n            <li key={ tweet.id }>\n              <p>{ tweet.text }</p>\n            </li>\n          )\n        })}\n      </ul>\n    )\n  }\n}\n\nexport default Tweets"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;AAIA;AACA;AACA;AADA;AADA;AACA;AAKA;AACA;AAAA;AACA;AAmBA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AADA;AAGA;AACA;;;;;;AA/BA;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAiBA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;;;;AA3DA;AACA;AA6DA;;;;A","sourceRoot":""}